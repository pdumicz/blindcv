[{"name":"/Auth/Sign up journey","nodes":[{"id":"ca6a650e-82ce-b77b-69c8-f6fedd352802","type":"Page","parameters":{"urlPath":"signup-flow"},"ports":[],"children":[{"id":"8ff032ce-aace-f9fd-e68c-68f407cf3573","type":"Group","parameters":{},"ports":[],"children":[{"id":"ade72898-ddd8-f7f4-c5a4-0ef59808bc81","type":"Group","parameters":{"backgroundColor":"Primary Light","flexDirection":"row","sizeMode":"contentHeight","justifyContent":"center","columnGap":{"value":15,"unit":"px"},"alignItems":"center","paddingTop":{"value":25,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"36297eb7-0802-2f3b-d6cc-dcc8552123a1","type":"/User Flow Components/Signup/Step Label","parameters":{"Default Text Color":"Primary","Border Color":"Primary","Active Text Color":"White","Step Active":true,"Fill Color":"Primary","Step Label":"Upload a CV"},"ports":[],"children":[]},{"id":"68ba5f3a-0012-4483-3a4d-42bc14ba3d1e","type":"Group","parameters":{"height":{"value":1,"unit":"px"},"width":{"value":20,"unit":"px"},"backgroundColor":"Light Gray"},"ports":[],"children":[]},{"id":"700ff0bf-a578-19d4-2317-343f8e0ed83e","type":"/User Flow Components/Signup/Step Label","parameters":{"Default Text Color":"Primary","Border Color":"Primary","Active Text Color":"White","Fill Color":"Primary","Step Number":"2"},"ports":[],"children":[]},{"id":"5a5ba5ea-a7ee-a5d6-a69a-dd2a1683b875","type":"Group","parameters":{"height":{"value":1,"unit":"px"},"width":{"value":20,"unit":"px"},"backgroundColor":"Light Gray"},"ports":[],"children":[]},{"id":"84ec8059-7271-9b05-2a7a-27db95b03d85","type":"/User Flow Components/Signup/Step Label","parameters":{"Step Number":"3","Step Label":"Enter Your Details","Border Color":"Primary","Fill Color":"Primary","Active Text Color":"White","Default Text Color":"Primary"},"ports":[],"children":[]},{"id":"05fb8395-1df9-a3d7-fa6e-df3ff20fe216","type":"Group","parameters":{"height":{"value":1,"unit":"px"},"width":{"value":20,"unit":"px"},"backgroundColor":"Light Gray"},"ports":[],"children":[]},{"id":"ff697f01-990a-39c0-9b62-0a313ffe4f2b","type":"/User Flow Components/Signup/Step Label","parameters":{"Step Number":"4","Step Label":"Create Your Account","Border Color":"Primary","Fill Color":"Primary","Active Text Color":"White","Default Text Color":"Primary"},"ports":[],"children":[]}]},{"id":"0f4f6643-c767-5cb4-45b4-4379f7cd4873","type":"Page Stack","parameters":{"pages":[{"id":"q7eb","label":"Step 2 - Template Picker"},{"id":"csrl","label":"Step 3 - User Details"},{"id":"e4mv","label":"Step 4 - Provider"},{"id":"xtdl","label":"Step 4b - Email/Password"},{"id":"4j6a","label":"Step 1 - Upload a File"}],"pageComp-q7eb":"/User Flow Components/Signup/Template Picker","pageComp-csrl":"/User Flow Components/Signup/User Details","useRoutes":false,"pageComp-e4mv":"/User Flow Components/Signup/Select Provider","pageComp-xtdl":"/User Flow Components/Signup/Email Signup","pageComp-4j6a":"/User Flow Components/Upload File","startPage":"4j6a"},"ports":[],"children":[]}]}]},{"id":"c8a7d925-39f2-543b-2856-6212bba995ec","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"403fbee0-e64a-ed65-1550-353e02aa5682","type":"net.noodl.ComponentObject","parameters":{"properties":"Signup Object Id"},"ports":[],"children":[]},{"id":"9616659d-1710-5358-5fdf-184c82e85d46","type":"States","parameters":{"values":"Step 1 Active,Step 2 Active,Step 3 Active,Step 4 Active","states":"Step 1 - Upload a File,Step 2 - Template Picker,Step 3 - User Details,Step 4 - Provider,Step 4b - Email/Password","useTransitions":true,"type-Step 1 Active":"boolean","type-Step 2 Active":"boolean","type-Step 3 Active":"boolean","type-Step 4 Active":"boolean","currentState":"Step 1 - Upload a File","value-Step 1 - Upload a File-Step 1 Active":true,"value-Step 1 - Upload a File-Step 2 Active":false,"value-Step 2 - Template Picker-Step 1 Active":true,"value-Step 2 - Template Picker-Step 2 Active":true,"value-Step 2 - Template Picker-Step 3 Active":false,"value-Step 3 - User Details-Step 1 Active":true,"value-Step 3 - User Details-Step 2 Active":true,"value-Step 3 - User Details-Step 3 Active":true,"value-Step 3 - User Details-Step 4 Active":false,"value-Step 4 - Provider-Step 1 Active":true,"value-Step 4 - Provider-Step 2 Active":true,"value-Step 4 - Provider-Step 3 Active":true,"value-Step 4 - Provider-Step 4 Active":true,"value-Step 4b - Email/Password-Step 1 Active":true,"value-Step 4b - Email/Password-Step 2 Active":true,"value-Step 4b - Email/Password-Step 3 Active":true,"value-Step 4b - Email/Password-Step 4 Active":true},"ports":[],"children":[]},{"id":"8761a968-0267-bf45-6ab2-ca644fa477bc","type":"/API/User/Supabase - Sign Up","parameters":{},"ports":[],"children":[]},{"id":"fa985011-30b6-703d-a087-51ce5eb598c4","type":"RouterNavigate","parameters":{"router":"App","target":"/Dashboard"},"ports":[],"children":[]},{"id":"7cea5f0f-9345-faa2-6f1e-cbf9bba8d7bf","type":"/API/User/Supabase - Fetch Current User Auth","parameters":{},"ports":[],"children":[]},{"id":"959f56d4-db74-d666-c04e-d4671f74fbe7","type":"NewModel","parameters":{},"ports":[],"children":[]},{"id":"6168110e-69b9-ff68-c518-ab8092e83ea2","type":"Event Receiver","parameters":{"channelName":"Email Signup","consume":"always"},"ports":[],"children":[]},{"id":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","type":"Model2","parameters":{"properties":"email,password,firstName,lastName,organization,File,anonymise,logoFile,watermarkFile,includeWatermark,jobDescription"},"ports":[],"children":[]},{"id":"f55b1e25-620b-5c04-5c62-06773d63bd00","type":"/API/User/Supabase - Update Current User Profile Data","parameters":{},"ports":[],"children":[]},{"id":"92291900-e8d1-66c6-67a2-4645ac38abb8","type":"JavaScriptFunction","parameters":{"functionScript":"const firstName = Inputs.FirstName;\nconst lastName = Inputs.LastName;\nconst organization = Inputs.Organization;\n\nOutputs.UserData = {\n    \"first_name\": firstName,\n    \"last_name\": lastName,\n    \"organization\": organization\n}"},"ports":[{"name":"in-FirstName","displayName":"FirstName","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-LastName","displayName":"LastName","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Organization","displayName":"Organization","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-UserData","displayName":"UserData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"1000450f-1838-c694-2372-5af5ee690b73","type":"Event Sender","parameters":{"propagation":"children","channelName":"Signup Error","payload":"Error"},"ports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input","group":"Payload","name":"Error","displayName":"Error","index":4}],"children":[]},{"id":"8dc79246-ad88-ca71-70a3-62534f33d3f9","type":"/API/Handle CV","parameters":{},"ports":[],"children":[]},{"id":"3d74960d-3fc4-4952-541a-100070022c6e","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\nconst logoFile = Inputs.LogoFile || null;\nconst watermarkFile = Inputs.WatermarkFile || null;\nconst userId = Inputs.UserID;\nconst bucket = 'resume_photos';\n\n// Check if both files are not provided\nif (!logoFile && !watermarkFile) {\n  Outputs.HandleCV();\n  return;\n}\n\n// Function to upload file to Supabase\nconst uploadFile = async (file) => {\n  try {\n    const { data, error } = await supabase.storage\n      .from(bucket)\n      .upload(userId + '/' + file.name, file);\n\n    if (error) throw error;\n\n    return data.Key;\n  } catch (error) {\n    Outputs.Error = error.message;\n    Outputs.Failure();\n  }\n}\n\n// Upload logo file if provided\nif (logoFile) {\n  const logoPath = await uploadFile(logoFile);\n  Outputs.LogoPath = logoPath;\n}\n\n// Upload watermark file if provided\nif (watermarkFile) {\n  const watermarkPath = await uploadFile(watermarkFile);\n  Outputs.WatermarkPath = watermarkPath;\n}\n\nOutputs.Success();\n"},"ports":[{"name":"in-LogoFile","displayName":"LogoFile","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-WatermarkFile","displayName":"WatermarkFile","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-UserID","displayName":"UserID","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-HandleCV","displayName":"HandleCV","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-LogoPath","displayName":"LogoPath","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-WatermarkPath","displayName":"WatermarkPath","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"54f109e6-7286-68b4-e88b-b36111441c65","type":"Expression","parameters":{"expression":"!!description"},"ports":[],"children":[]},{"id":"46ce1921-038d-acba-1e0c-51608048491c","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\nconst logoFile = Inputs.LogoFile || null;\nconst watermarkFile = Inputs.WatermarkFile || null;\nconst userId = Inputs.UserID;\nconst bucket = 'resume_photos';\n\n// Check if both files are not provided\nif (!logoFile && !watermarkFile) {\n  Outputs.HandleCV();\n  return;\n}\n\n// Function to upload file to Supabase\nconst uploadFile = async (file) => {\n  try {\n    const { data, error } = await supabase.storage\n      .from(bucket)\n      .upload(userId + '/' + file.name, file);\n\n    if (error) throw error;\n\n    return data.Key;\n  } catch (error) {\n    Outputs.Error = error.message;\n    Outputs.Failure();\n  }\n}\n\n// Upload logo file if provided\nif (logoFile) {\n  const logoPath = await uploadFile(logoFile);\n  Outputs.LogoPath = logoPath;\n}\n\n// Upload watermark file if provided\nif (watermarkFile) {\n  const watermarkPath = await uploadFile(watermarkFile);\n  Outputs.WatermarkPath = watermarkPath;\n}\n\nOutputs.Success();\n"},"ports":[{"name":"in-LogoFile","displayName":"LogoFile","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-WatermarkFile","displayName":"WatermarkFile","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-UserID","displayName":"UserID","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-HandleCV","displayName":"HandleCV","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-LogoPath","displayName":"LogoPath","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-WatermarkPath","displayName":"WatermarkPath","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"b385e4c1-ac07-dcf5-1cb6-b0a3b54d4af1","type":"/Loading Spinner","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"0f4f6643-c767-5cb4-45b4-4379f7cd4873","sourcePort":"topPageName","targetId":"9616659d-1710-5358-5fdf-184c82e85d46","targetPort":"currentState"},{"sourceId":"8761a968-0267-bf45-6ab2-ca644fa477bc","sourcePort":"Success","targetId":"7cea5f0f-9345-faa2-6f1e-cbf9bba8d7bf","targetPort":"Do"},{"sourceId":"ca6a650e-82ce-b77b-69c8-f6fedd352802","sourcePort":"didMount","targetId":"959f56d4-db74-d666-c04e-d4671f74fbe7","targetPort":"new"},{"sourceId":"959f56d4-db74-d666-c04e-d4671f74fbe7","sourcePort":"id","targetId":"403fbee0-e64a-ed65-1550-353e02aa5682","targetPort":"value-Signup Object Id"},{"sourceId":"959f56d4-db74-d666-c04e-d4671f74fbe7","sourcePort":"id","targetId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","targetPort":"modelId"},{"sourceId":"6168110e-69b9-ff68-c518-ab8092e83ea2","sourcePort":"eventReceived","targetId":"8761a968-0267-bf45-6ab2-ca644fa477bc","targetPort":"Do"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-email","targetId":"8761a968-0267-bf45-6ab2-ca644fa477bc","targetPort":"Email"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-password","targetId":"8761a968-0267-bf45-6ab2-ca644fa477bc","targetPort":"Password"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-firstName","targetId":"92291900-e8d1-66c6-67a2-4645ac38abb8","targetPort":"in-FirstName"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-lastName","targetId":"92291900-e8d1-66c6-67a2-4645ac38abb8","targetPort":"in-LastName"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-organization","targetId":"92291900-e8d1-66c6-67a2-4645ac38abb8","targetPort":"in-Organization"},{"sourceId":"92291900-e8d1-66c6-67a2-4645ac38abb8","sourcePort":"out-UserData","targetId":"f55b1e25-620b-5c04-5c62-06773d63bd00","targetPort":"Data"},{"sourceId":"7cea5f0f-9345-faa2-6f1e-cbf9bba8d7bf","sourcePort":"Done","targetId":"f55b1e25-620b-5c04-5c62-06773d63bd00","targetPort":"Do"},{"sourceId":"8761a968-0267-bf45-6ab2-ca644fa477bc","sourcePort":"Error","targetId":"1000450f-1838-c694-2372-5af5ee690b73","targetPort":"Error"},{"sourceId":"8761a968-0267-bf45-6ab2-ca644fa477bc","sourcePort":"Failure","targetId":"1000450f-1838-c694-2372-5af5ee690b73","targetPort":"sendEvent"},{"sourceId":"9616659d-1710-5358-5fdf-184c82e85d46","sourcePort":"Step 1 Active","targetId":"36297eb7-0802-2f3b-d6cc-dcc8552123a1","targetPort":"Step Active"},{"sourceId":"9616659d-1710-5358-5fdf-184c82e85d46","sourcePort":"Step 2 Active","targetId":"700ff0bf-a578-19d4-2317-343f8e0ed83e","targetPort":"Step Active"},{"sourceId":"9616659d-1710-5358-5fdf-184c82e85d46","sourcePort":"Step 3 Active","targetId":"84ec8059-7271-9b05-2a7a-27db95b03d85","targetPort":"Step Active"},{"sourceId":"9616659d-1710-5358-5fdf-184c82e85d46","sourcePort":"Step 4 Active","targetId":"ff697f01-990a-39c0-9b62-0a313ffe4f2b","targetPort":"Step Active"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-File","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"File"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-logoFile","targetId":"3d74960d-3fc4-4952-541a-100070022c6e","targetPort":"in-LogoFile"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-watermarkFile","targetId":"3d74960d-3fc4-4952-541a-100070022c6e","targetPort":"in-WatermarkFile"},{"sourceId":"7cea5f0f-9345-faa2-6f1e-cbf9bba8d7bf","sourcePort":"Done","targetId":"3d74960d-3fc4-4952-541a-100070022c6e","targetPort":"run"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-jobDescription","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Job Description"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-jobDescription","targetId":"54f109e6-7286-68b4-e88b-b36111441c65","targetPort":"description"},{"sourceId":"54f109e6-7286-68b4-e88b-b36111441c65","sourcePort":"result","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Internal Assessment"},{"sourceId":"3d74960d-3fc4-4952-541a-100070022c6e","sourcePort":"out-HandleCV","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Do"},{"sourceId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","sourcePort":"Success","targetId":"fa985011-30b6-703d-a087-51ce5eb598c4","targetPort":"navigate"},{"sourceId":"3d74960d-3fc4-4952-541a-100070022c6e","sourcePort":"out-LogoPath","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Logo Path"},{"sourceId":"3d74960d-3fc4-4952-541a-100070022c6e","sourcePort":"out-WatermarkPath","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Watermark Path"},{"sourceId":"a7843b8d-1b0f-90b5-fb73-61cef16a7781","sourcePort":"prop-anonymise","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Anonymised"},{"sourceId":"3d74960d-3fc4-4952-541a-100070022c6e","sourcePort":"out-Success","targetId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","targetPort":"Do"},{"sourceId":"6168110e-69b9-ff68-c518-ab8092e83ea2","sourcePort":"eventReceived","targetId":"b385e4c1-ac07-dcf5-1cb6-b0a3b54d4af1","targetPort":"Show"},{"sourceId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","sourcePort":"Success","targetId":"b385e4c1-ac07-dcf5-1cb6-b0a3b54d4af1","targetPort":"Hide"},{"sourceId":"8dc79246-ad88-ca71-70a3-62534f33d3f9","sourcePort":"Failure","targetId":"b385e4c1-ac07-dcf5-1cb6-b0a3b54d4af1","targetPort":"Hide"}],"ports":[],"roots":["ca6a650e-82ce-b77b-69c8-f6fedd352802"]}]